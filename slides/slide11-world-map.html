<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¸ê³„ì§€ë„: 6ê°œêµ­ ì‚¬ë¡€ ì—°êµ¬ ìœ„ì¹˜</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .title {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .map-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            color: #333;
        }
        #worldMap {
            height: 500px;
            width: 100%;
            border-radius: 10px;
        }
        .countries-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .country-card {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid;
        }
        .country-card.success {
            border-left-color: #4caf50;
        }
        .country-card.partial {
            border-left-color: #ff9800;
        }
        .country-card.challenge {
            border-left-color: #ff6b6b;
        }
        .country-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .country-flag {
            font-size: 1.5em;
            margin-right: 10px;
        }
        .country-category {
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            display: inline-block;
        }
        .success-category {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }
        .partial-category {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
        }
        .challenge-category {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }
        .country-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        .stat-item {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }
        .stat-number {
            font-size: 1.8em;
            font-weight: bold;
            color: #ffd700;
        }
        .stat-label {
            font-size: 0.8em;
            opacity: 0.9;
        }
        .key-lesson {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9em;
            font-style: italic;
        }
        .map-controls {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .control-button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid #ffd700;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .control-button:hover {
            background: rgba(255, 215, 0, 0.3);
        }
        .control-button.active {
            background: #ffd700;
            color: #333;
        }
        .summary-insights {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid #ffd700;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .insight-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .insight-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .insight-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">ì„¸ê³„ì§€ë„: 6ê°œêµ­ ê°€ì¡±ê³„íš ì‚¬ë¡€ ì—°êµ¬</h1>
            <p style="opacity: 0.8;">Global Case Studies in Family Planning Programs</p>
        </div>

        <div class="map-controls">
            <h3 style="margin-top: 0; color: #ffd700;">ì§€ë„ ë³´ê¸° ì˜µì…˜</h3>
            <button class="control-button active" onclick="showAllCountries()">ì „ì²´ ë³´ê¸°</button>
            <button class="control-button" onclick="showSuccessStories()">ì„±ê³µ ì‚¬ë¡€</button>
            <button class="control-button" onclick="showChallenges()">ë„ì „ ê³¼ì œ</button>
            <button class="control-button" onclick="showComparisons()">ë¹„êµ ë¶„ì„</button>
        </div>

        <div class="map-container">
            <h3 style="text-align: center; margin-top: 0;">ì¸í„°ë™í‹°ë¸Œ ì„¸ê³„ì§€ë„</h3>
            <div id="worldMap"></div>
        </div>

        <div class="countries-legend">
            <div class="country-card success">
                <div class="country-title">
                    <span class="country-flag">ğŸ‡°ğŸ‡·</span>
                    ëŒ€í•œë¯¼êµ­ (Republic of Korea)
                </div>
                <div class="country-category success-category">ì™„ì „í•œ ì„±ê³µ ì‚¬ë¡€</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">8 â†’ 1.2</div>
                        <div class="stat-label">TFR ë³€í™”<br>(1960-2020)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">1/3</div>
                        <div class="stat-label">ê²½ì œì„±ì¥ ì¤‘<br>ì¸êµ¬ë°°ë‹¹ ê¸°ì—¬</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>í•µì‹¬ êµí›ˆ:</strong> ê°•ë ¥í•œ ì •ì¹˜ì  ì˜ì§€ì™€ ì§€ì†ì ì¸ í”„ë¡œê·¸ë¨ ìš´ì˜ìœ¼ë¡œ
                    ê¸‰ê²©í•œ ì¸êµ¬ì „í™˜ê³¼ ê²½ì œë°œì „ì„ ë™ì‹œì— ë‹¬ì„±í•œ ëª¨ë²” ì‚¬ë¡€
                </div>
            </div>

            <div class="country-card partial">
                <div class="country-title">
                    <span class="country-flag">ğŸ‡§ğŸ‡·</span>
                    ë¸Œë¼ì§ˆ (Brazil)
                </div>
                <div class="country-category partial-category">ì •ë¶€ ê°œì… ì—†ëŠ” ì„±ê³µ</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">6.2 â†’ 2.5</div>
                        <div class="stat-label">TFR ë³€í™”<br>(1960-1996)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">77%</div>
                        <div class="stat-label">1996ë…„<br>í”¼ì„ ì‹¤í–‰ë¥ </div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>í•µì‹¬ êµí›ˆ:</strong> NGO, ë¯¼ê°„ ë¶€ë¬¸, ì˜ë£Œì§„ì˜ í˜‘ë ¥ìœ¼ë¡œ ì •ë¶€ ê°œì… ì—†ì´ë„
                    ì¶œì‚°ìœ¨ ê°ì†Œ ê°€ëŠ¥í•˜ì§€ë§Œ ê²©ì°¨ ë¬¸ì œì™€ ë¶€ì‘ìš© ì¡´ì¬
                </div>
            </div>

            <div class="country-card partial">
                <div class="country-title">
                    <span class="country-flag">ğŸ‡°ğŸ‡ª</span>
                    ì¼€ëƒ (Kenya)
                </div>
                <div class="country-category partial-category">ì„±ê³µ í›„ ì •ì²´</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">8 â†’ 4.8</div>
                        <div class="stat-label">TFR ë³€í™”<br>(1979-1998)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">44 â†’ 83</div>
                        <div class="stat-label">2050ë…„ ì¸êµ¬ ì „ë§<br>ìˆ˜ì • (ë°±ë§Œëª…)</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>í•µì‹¬ êµí›ˆ:</strong> ì•„í”„ë¦¬ì¹´ ìµœì´ˆì˜ ì„±ê³µ ì‚¬ë¡€ì˜€ìœ¼ë‚˜ HIV/AIDSë¡œ ê´€ì‹¬ì´
                    ì´ë™í•˜ë©´ì„œ í”„ë¡œê·¸ë¨ì´ ì•½í™”ë˜ì–´ ì¶œì‚°ìœ¨ ì •ì²´ ê²½í—˜
                </div>
            </div>

            <div class="country-card challenge">
                <div class="country-title">
                    <span class="country-flag">ğŸ‡³ğŸ‡ª</span>
                    ë‹ˆì œë¥´ (Niger)
                </div>
                <div class="country-category challenge-category">ì¬ì•™ ë°©ì§€ í•„ìš”</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">7.5</div>
                        <div class="stat-label">í˜„ì¬ TFR<br>(ì„¸ê³„ ìµœê³ )</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">14 â†’ 82</div>
                        <div class="stat-label">ì¸êµ¬ ì „ë§<br>2005-2050 (ë°±ë§Œ)</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>í•µì‹¬ êµí›ˆ:</strong> ì„¸ê³„ ìµœë¹ˆêµ­ìœ¼ë¡œ ì¸êµ¬ í­ì¦ì´ ì˜ˆìƒë˜ë©°,
                    ê°•ë ¥í•œ ì •ì¹˜ì  ì˜ì§€ì™€ ëŒ€ëŒ€ì ì¸ ë¬¸í™” ë³€í™” ë…¸ë ¥ì´ í•„ìš”
                </div>
            </div>

            <div class="country-card success">
                <div class="country-title">
                    <span class="country-flag">ğŸ‡§ğŸ‡©</span>
                    ë°©ê¸€ë¼ë°ì‹œ (Bangladesh)
                </div>
                <div class="country-category success-category">ë¹ˆê³¤êµ­ ì„±ê³µ ëª¨ë¸</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">30%+</div>
                        <div class="stat-label">1990ë…„<br>í”¼ì„ ì‹¤í–‰ë¥ </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">44%</div>
                        <div class="stat-label">ê²½êµ¬í”¼ì„ì•½ ì‚¬ìš©ì<br>ë¬¸ì• ì„œë¹„ìŠ¤</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>í•µì‹¬ êµí›ˆ:</strong> ìµœë¹ˆêµ­ì„ì—ë„ íš¨ê³¼ì ì¸ ì§€ì—­ì‚¬íšŒ ê¸°ë°˜ ì ‘ê·¼ë²•ìœ¼ë¡œ
                    í‘¸ë¥´ë‹¤ ì‹œìŠ¤í…œ ê·¹ë³µí•˜ë©° ì„±ê³µì  ì¶œì‚°ìœ¨ ê°ì†Œ ë‹¬ì„±
                </div>
            </div>

            <div class="country-card challenge">
                <div class="country-title">
                    <span class="country-flag">ğŸ‡µğŸ‡°</span>
                    íŒŒí‚¤ìŠ¤íƒ„ (Pakistan)
                </div>
                <div class="country-category challenge-category">ì •ì¹˜ì  ì‹¤íŒ¨ ì‚¬ë¡€</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">12%</div>
                        <div class="stat-label">1990ë…„<br>í”¼ì„ ì‹¤í–‰ë¥ </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">+67ë°±ë§Œ</div>
                        <div class="stat-label">2050ë…„ ë°©ê¸€ë¼ë°ì‹œ<br>ëŒ€ë¹„ ì´ˆê³¼ ì¸êµ¬</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>í•µì‹¬ êµí›ˆ:</strong> ì •ì¹˜ì  ê²½ìŸê³¼ ì¢…êµì  ë°˜ëŒ€ë¡œ í”„ë¡œê·¸ë¨ì´ ìœ„ì¶•ë˜ì–´
                    ì¥ê¸°ì ì¸ ì¸êµ¬í•™ì  ê²°ê³¼ë¥¼ ì´ˆë˜í•œ ì‹¤íŒ¨ ì‚¬ë¡€
                </div>
            </div>
        </div>

        <div class="summary-insights">
            <h2 style="color: #ffd700; text-align: center; margin-top: 0;">6ê°œêµ­ ì‚¬ë¡€ì—ì„œ ì–»ëŠ” í•µì‹¬ í†µì°°</h2>

            <div class="insights-grid">
                <div class="insight-item">
                    <div class="insight-icon">ğŸ›ï¸</div>
                    <div class="insight-title">ì •ì¹˜ì  ì˜ì§€ì˜ ì¤‘ìš”ì„±</div>
                    <p>í•œêµ­, ë°©ê¸€ë¼ë°ì‹œëŠ” ê°•ë ¥í•œ ì •ì¹˜ì  ì§€ì›ìœ¼ë¡œ ì„±ê³µí–ˆê³ ,
                    íŒŒí‚¤ìŠ¤íƒ„ì€ ì •ì¹˜ì  ë°˜ëŒ€ë¡œ ì‹¤íŒ¨í–ˆë‹¤.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">ğŸŒ</div>
                    <div class="insight-title">ë¬¸í™”ì  ì ì‘ì˜ í•„ìš”ì„±</div>
                    <p>ë°©ê¸€ë¼ë°ì‹œì˜ í‘¸ë¥´ë‹¤ ì‹œìŠ¤í…œ ê·¹ë³µ ì‚¬ë¡€ì²˜ëŸ¼
                    ë¬¸í™”ì  ë§¥ë½ì— ë§ëŠ” ì ‘ê·¼ë²•ì´ ì¤‘ìš”í•˜ë‹¤.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">ğŸ’°</div>
                    <div class="insight-title">ì§€ì†ì  ì§€ì›ì˜ ì¤‘ìš”ì„±</div>
                    <p>ì¼€ëƒ ì‚¬ë¡€ì—ì„œ ë³´ë“¯ HIV/AIDSë¡œ ê´€ì‹¬ì´ ì´ë™í•˜ë©´ì„œ
                    ê°€ì¡±ê³„íš ì§€ì›ì´ ì¤„ì–´ë“¤ë©´ ì„±ê³¼ê°€ í›„í‡´í•œë‹¤.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">â°</div>
                    <div class="insight-title">íƒ€ì´ë°ì˜ ì¤‘ìš”ì„±</div>
                    <p>íŒŒí‚¤ìŠ¤íƒ„ì˜ 10ë…„ ì§€ì—°ìœ¼ë¡œ ì¸í•œ 67ë°±ë§Œëª… ì¸êµ¬ ì°¨ì´ì²˜ëŸ¼
                    ì¡°ê¸° ê°œì…ì´ ì¥ê¸°ì  ê²°ê³¼ë¥¼ ì¢Œìš°í•œë‹¤.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">ğŸ¤</div>
                    <div class="insight-title">ë‹¤ë¶€ë¬¸ í˜‘ë ¥</div>
                    <p>ë¸Œë¼ì§ˆì²˜ëŸ¼ NGO, ë¯¼ê°„, ì˜ë£Œì§„ì˜ í˜‘ë ¥ìœ¼ë¡œ
                    ì •ë¶€ ê°œì… ì—†ì´ë„ ì„±ê³¼ ë‹¬ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">ğŸš¨</div>
                    <div class="insight-title">ì˜ˆë°©ì˜ ì¤‘ìš”ì„±</div>
                    <p>ë‹ˆì œë¥´ ì‚¬ë¡€ì²˜ëŸ¼ ì¸êµ¬ í­ì¦ì´ ì˜ˆìƒë˜ëŠ” ê³³ì—ì„œëŠ”
                    ì‚¬ì „ ì˜ˆë°©ì  ê°œì…ì´ í•„ìˆ˜ì ì´ë‹¤.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the map
        let map = L.map('worldMap').setView([20, 0], 2);

        // Add tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // Country data
        const countries = [
            {
                name: 'ëŒ€í•œë¯¼êµ­',
                nameEn: 'South Korea',
                lat: 36.5,
                lng: 127.5,
                category: 'success',
                color: '#4caf50',
                description: 'ì™„ì „í•œ ì„±ê³µ ì‚¬ë¡€',
                details: 'TFR: 8â†’1.2, ì¸êµ¬ë°°ë‹¹ìœ¼ë¡œ ê²½ì œì„±ì¥ ë‹¬ì„±',
                lesson: 'ê°•ë ¥í•œ ì •ì¹˜ì  ì˜ì§€ì™€ ì§€ì†ì  í”„ë¡œê·¸ë¨ì˜ ëª¨ë²” ì‚¬ë¡€'
            },
            {
                name: 'ë¸Œë¼ì§ˆ',
                nameEn: 'Brazil',
                lat: -15.0,
                lng: -50.0,
                category: 'partial',
                color: '#ff9800',
                description: 'ì •ë¶€ ê°œì… ì—†ëŠ” ì„±ê³µ',
                details: 'TFR: 6.2â†’2.5, í”¼ì„ì‹¤í–‰ë¥  77% ë‹¬ì„±',
                lesson: 'NGO, ë¯¼ê°„, ì˜ë£Œì§„ í˜‘ë ¥ìœ¼ë¡œ ì„±ê³µí•˜ì§€ë§Œ ê²©ì°¨ ë¬¸ì œ ì¡´ì¬'
            },
            {
                name: 'ì¼€ëƒ',
                nameEn: 'Kenya',
                lat: 0.0,
                lng: 37.0,
                category: 'partial',
                color: '#ff9800',
                description: 'ì„±ê³µ í›„ ì •ì²´',
                details: 'TFR: 8â†’4.8, 1998ë…„ ì´í›„ ì •ì²´',
                lesson: 'HIV/AIDSë¡œ ê´€ì‹¬ ì´ë™í•˜ë©° í”„ë¡œê·¸ë¨ ì•½í™”ë¡œ í›„í‡´'
            },
            {
                name: 'ë‹ˆì œë¥´',
                nameEn: 'Niger',
                lat: 16.0,
                lng: 8.0,
                category: 'challenge',
                color: '#ff6b6b',
                description: 'ì¬ì•™ ë°©ì§€ í•„ìš”',
                details: 'TFR: 7.5 (ì„¸ê³„ ìµœê³ ), ì¸êµ¬ 14â†’82ë°±ë§Œ ì˜ˆìƒ',
                lesson: 'ê°•ë ¥í•œ ì •ì¹˜ì  ì˜ì§€ì™€ ë¬¸í™” ë³€í™” ë…¸ë ¥ì´ ì‹œê¸‰'
            },
            {
                name: 'ë°©ê¸€ë¼ë°ì‹œ',
                nameEn: 'Bangladesh',
                lat: 24.0,
                lng: 90.0,
                category: 'success',
                color: '#4caf50',
                description: 'ë¹ˆê³¤êµ­ ì„±ê³µ ëª¨ë¸',
                details: 'í”¼ì„ì‹¤í–‰ë¥  30%+, ì§€ì—­ì‚¬íšŒ ê¸°ë°˜ ì ‘ê·¼ë²•',
                lesson: 'ìµœë¹ˆêµ­ë„ íš¨ê³¼ì  ì ‘ê·¼ë²•ìœ¼ë¡œ ì„±ê³µ ê°€ëŠ¥í•¨ì„ ì¦ëª…'
            },
            {
                name: 'íŒŒí‚¤ìŠ¤íƒ„',
                nameEn: 'Pakistan',
                lat: 30.0,
                lng: 70.0,
                category: 'challenge',
                color: '#ff6b6b',
                description: 'ì •ì¹˜ì  ì‹¤íŒ¨ ì‚¬ë¡€',
                details: '1990ë…„ í”¼ì„ì‹¤í–‰ë¥  12%, ë°©ê¸€ë¼ë°ì‹œ ëŒ€ë¹„ 67ë°±ë§Œ ì´ˆê³¼',
                lesson: 'ì •ì¹˜ì  ê²½ìŸê³¼ ì¢…êµì  ë°˜ëŒ€ë¡œ ì¸í•œ ì¥ê¸°ì  ì‹¤íŒ¨'
            }
        ];

        let markers = [];

        // Function to create markers
        function createMarkers() {
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            countries.forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.7,
                    radius: 12,
                    weight: 3
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} (${country.nameEn})
                        </h3>
                        <p style="margin: 5px 0; font-weight: bold; color: ${country.color};">
                            ${country.description}
                        </p>
                        <p style="margin: 5px 0;"><strong>ì£¼ìš” ì§€í‘œ:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #f5f5f5; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>êµí›ˆ:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });
        }

        // Control functions
        function showAllCountries() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            createMarkers();
        }

        function showSuccessStories() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            countries.filter(c => c.category === 'success').forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.9,
                    radius: 15,
                    weight: 4
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} - ì„±ê³µ ì‚¬ë¡€
                        </h3>
                        <p style="margin: 5px 0;"><strong>ì£¼ìš” ì§€í‘œ:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #e8f5e8; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>ì„±ê³µ ìš”ì¸:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });
        }

        function showChallenges() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            countries.filter(c => c.category === 'challenge').forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.9,
                    radius: 15,
                    weight: 4
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} - ë„ì „ ê³¼ì œ
                        </h3>
                        <p style="margin: 5px 0;"><strong>ì£¼ìš” ì§€í‘œ:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #ffebee; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>ë„ì „ ê³¼ì œ:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });
        }

        function showComparisons() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            // Show Bangladesh vs Pakistan comparison
            const comparison = countries.filter(c => c.name === 'ë°©ê¸€ë¼ë°ì‹œ' || c.name === 'íŒŒí‚¤ìŠ¤íƒ„');

            comparison.forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.9,
                    radius: 18,
                    weight: 5
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} - ë¹„êµ ë¶„ì„
                        </h3>
                        <p style="margin: 5px 0;"><strong>1971ë…„:</strong> ë™ì¼í•œ ì¶œë°œì </p>
                        <p style="margin: 5px 0;"><strong>í˜„ì¬ ê²°ê³¼:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #f0f8ff; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>ì°¨ì´ì :</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });

            // Draw line between Bangladesh and Pakistan
            const bangladeshCoords = [24.0, 90.0];
            const pakistanCoords = [30.0, 70.0];

            L.polyline([bangladeshCoords, pakistanCoords], {
                color: '#ffd700',
                weight: 3,
                opacity: 0.8,
                dashArray: '10, 10'
            }).addTo(map).bindPopup('1971ë…„ ë¶„ë¦¬: ë™ì¼í•œ ì¶œë°œì ì—ì„œ ë‹¤ë¥¸ ê²°ê³¼');
        }

        // Initialize with all countries
        createMarkers();
    </script>
</body>
</html>