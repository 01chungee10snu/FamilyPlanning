<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>세계지도: 6개국 사례 연구 위치</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .title {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .map-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            color: #333;
        }
        #worldMap {
            height: 500px;
            width: 100%;
            border-radius: 10px;
        }
        .countries-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .country-card {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid;
        }
        .country-card.success {
            border-left-color: #4caf50;
        }
        .country-card.partial {
            border-left-color: #ff9800;
        }
        .country-card.challenge {
            border-left-color: #ff6b6b;
        }
        .country-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .country-flag {
            font-size: 1.5em;
            margin-right: 10px;
        }
        .country-category {
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            display: inline-block;
        }
        .success-category {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }
        .partial-category {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
        }
        .challenge-category {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }
        .country-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        .stat-item {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }
        .stat-number {
            font-size: 1.8em;
            font-weight: bold;
            color: #ffd700;
        }
        .stat-label {
            font-size: 0.8em;
            opacity: 0.9;
        }
        .key-lesson {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9em;
            font-style: italic;
        }
        .map-controls {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .control-button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid #ffd700;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .control-button:hover {
            background: rgba(255, 215, 0, 0.3);
        }
        .control-button.active {
            background: #ffd700;
            color: #333;
        }
        .summary-insights {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid #ffd700;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .insight-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .insight-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .insight-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">세계지도: 6개국 가족계획 사례 연구</h1>
            <p style="opacity: 0.8;">Global Case Studies in Family Planning Programs</p>
        </div>

        <div class="map-controls">
            <h3 style="margin-top: 0; color: #ffd700;">지도 보기 옵션</h3>
            <button class="control-button active" onclick="showAllCountries()">전체 보기</button>
            <button class="control-button" onclick="showSuccessStories()">성공 사례</button>
            <button class="control-button" onclick="showChallenges()">도전 과제</button>
            <button class="control-button" onclick="showComparisons()">비교 분석</button>
        </div>

        <div class="map-container">
            <h3 style="text-align: center; margin-top: 0;">인터랙티브 세계지도</h3>
            <div id="worldMap"></div>
        </div>

        <div class="countries-legend">
            <div class="country-card success">
                <div class="country-title">
                    <span class="country-flag">🇰🇷</span>
                    대한민국 (Republic of Korea)
                </div>
                <div class="country-category success-category">완전한 성공 사례</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">8 → 1.2</div>
                        <div class="stat-label">TFR 변화<br>(1960-2020)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">1/3</div>
                        <div class="stat-label">경제성장 중<br>인구배당 기여</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>핵심 교훈:</strong> 강력한 정치적 의지와 지속적인 프로그램 운영으로
                    급격한 인구전환과 경제발전을 동시에 달성한 모범 사례
                </div>
            </div>

            <div class="country-card partial">
                <div class="country-title">
                    <span class="country-flag">🇧🇷</span>
                    브라질 (Brazil)
                </div>
                <div class="country-category partial-category">정부 개입 없는 성공</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">6.2 → 2.5</div>
                        <div class="stat-label">TFR 변화<br>(1960-1996)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">77%</div>
                        <div class="stat-label">1996년<br>피임 실행률</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>핵심 교훈:</strong> NGO, 민간 부문, 의료진의 협력으로 정부 개입 없이도
                    출산율 감소 가능하지만 격차 문제와 부작용 존재
                </div>
            </div>

            <div class="country-card partial">
                <div class="country-title">
                    <span class="country-flag">🇰🇪</span>
                    케냐 (Kenya)
                </div>
                <div class="country-category partial-category">성공 후 정체</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">8 → 4.8</div>
                        <div class="stat-label">TFR 변화<br>(1979-1998)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">44 → 83</div>
                        <div class="stat-label">2050년 인구 전망<br>수정 (백만명)</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>핵심 교훈:</strong> 아프리카 최초의 성공 사례였으나 HIV/AIDS로 관심이
                    이동하면서 프로그램이 약화되어 출산율 정체 경험
                </div>
            </div>

            <div class="country-card challenge">
                <div class="country-title">
                    <span class="country-flag">🇳🇪</span>
                    니제르 (Niger)
                </div>
                <div class="country-category challenge-category">재앙 방지 필요</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">7.5</div>
                        <div class="stat-label">현재 TFR<br>(세계 최고)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">14 → 82</div>
                        <div class="stat-label">인구 전망<br>2005-2050 (백만)</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>핵심 교훈:</strong> 세계 최빈국으로 인구 폭증이 예상되며,
                    강력한 정치적 의지와 대대적인 문화 변화 노력이 필요
                </div>
            </div>

            <div class="country-card success">
                <div class="country-title">
                    <span class="country-flag">🇧🇩</span>
                    방글라데시 (Bangladesh)
                </div>
                <div class="country-category success-category">빈곤국 성공 모델</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">30%+</div>
                        <div class="stat-label">1990년<br>피임 실행률</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">44%</div>
                        <div class="stat-label">경구피임약 사용자<br>문앞 서비스</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>핵심 교훈:</strong> 최빈국임에도 효과적인 지역사회 기반 접근법으로
                    푸르다 시스템 극복하며 성공적 출산율 감소 달성
                </div>
            </div>

            <div class="country-card challenge">
                <div class="country-title">
                    <span class="country-flag">🇵🇰</span>
                    파키스탄 (Pakistan)
                </div>
                <div class="country-category challenge-category">정치적 실패 사례</div>
                <div class="country-stats">
                    <div class="stat-item">
                        <div class="stat-number">12%</div>
                        <div class="stat-label">1990년<br>피임 실행률</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">+67백만</div>
                        <div class="stat-label">2050년 방글라데시<br>대비 초과 인구</div>
                    </div>
                </div>
                <div class="key-lesson">
                    <strong>핵심 교훈:</strong> 정치적 경쟁과 종교적 반대로 프로그램이 위축되어
                    장기적인 인구학적 결과를 초래한 실패 사례
                </div>
            </div>
        </div>

        <div class="summary-insights">
            <h2 style="color: #ffd700; text-align: center; margin-top: 0;">6개국 사례에서 얻는 핵심 통찰</h2>

            <div class="insights-grid">
                <div class="insight-item">
                    <div class="insight-icon">🏛️</div>
                    <div class="insight-title">정치적 의지의 중요성</div>
                    <p>한국, 방글라데시는 강력한 정치적 지원으로 성공했고,
                    파키스탄은 정치적 반대로 실패했다.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">🌍</div>
                    <div class="insight-title">문화적 적응의 필요성</div>
                    <p>방글라데시의 푸르다 시스템 극복 사례처럼
                    문화적 맥락에 맞는 접근법이 중요하다.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">💰</div>
                    <div class="insight-title">지속적 지원의 중요성</div>
                    <p>케냐 사례에서 보듯 HIV/AIDS로 관심이 이동하면서
                    가족계획 지원이 줄어들면 성과가 후퇴한다.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">⏰</div>
                    <div class="insight-title">타이밍의 중요성</div>
                    <p>파키스탄의 10년 지연으로 인한 67백만명 인구 차이처럼
                    조기 개입이 장기적 결과를 좌우한다.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">🤝</div>
                    <div class="insight-title">다부문 협력</div>
                    <p>브라질처럼 NGO, 민간, 의료진의 협력으로
                    정부 개입 없이도 성과 달성이 가능하다.</p>
                </div>

                <div class="insight-item">
                    <div class="insight-icon">🚨</div>
                    <div class="insight-title">예방의 중요성</div>
                    <p>니제르 사례처럼 인구 폭증이 예상되는 곳에서는
                    사전 예방적 개입이 필수적이다.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the map
        let map = L.map('worldMap').setView([20, 0], 2);

        // Add tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Country data
        const countries = [
            {
                name: '대한민국',
                nameEn: 'South Korea',
                lat: 36.5,
                lng: 127.5,
                category: 'success',
                color: '#4caf50',
                description: '완전한 성공 사례',
                details: 'TFR: 8→1.2, 인구배당으로 경제성장 달성',
                lesson: '강력한 정치적 의지와 지속적 프로그램의 모범 사례'
            },
            {
                name: '브라질',
                nameEn: 'Brazil',
                lat: -15.0,
                lng: -50.0,
                category: 'partial',
                color: '#ff9800',
                description: '정부 개입 없는 성공',
                details: 'TFR: 6.2→2.5, 피임실행률 77% 달성',
                lesson: 'NGO, 민간, 의료진 협력으로 성공하지만 격차 문제 존재'
            },
            {
                name: '케냐',
                nameEn: 'Kenya',
                lat: 0.0,
                lng: 37.0,
                category: 'partial',
                color: '#ff9800',
                description: '성공 후 정체',
                details: 'TFR: 8→4.8, 1998년 이후 정체',
                lesson: 'HIV/AIDS로 관심 이동하며 프로그램 약화로 후퇴'
            },
            {
                name: '니제르',
                nameEn: 'Niger',
                lat: 16.0,
                lng: 8.0,
                category: 'challenge',
                color: '#ff6b6b',
                description: '재앙 방지 필요',
                details: 'TFR: 7.5 (세계 최고), 인구 14→82백만 예상',
                lesson: '강력한 정치적 의지와 문화 변화 노력이 시급'
            },
            {
                name: '방글라데시',
                nameEn: 'Bangladesh',
                lat: 24.0,
                lng: 90.0,
                category: 'success',
                color: '#4caf50',
                description: '빈곤국 성공 모델',
                details: '피임실행률 30%+, 지역사회 기반 접근법',
                lesson: '최빈국도 효과적 접근법으로 성공 가능함을 증명'
            },
            {
                name: '파키스탄',
                nameEn: 'Pakistan',
                lat: 30.0,
                lng: 70.0,
                category: 'challenge',
                color: '#ff6b6b',
                description: '정치적 실패 사례',
                details: '1990년 피임실행률 12%, 방글라데시 대비 67백만 초과',
                lesson: '정치적 경쟁과 종교적 반대로 인한 장기적 실패'
            }
        ];

        let markers = [];

        // Function to create markers
        function createMarkers() {
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            countries.forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.7,
                    radius: 12,
                    weight: 3
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} (${country.nameEn})
                        </h3>
                        <p style="margin: 5px 0; font-weight: bold; color: ${country.color};">
                            ${country.description}
                        </p>
                        <p style="margin: 5px 0;"><strong>주요 지표:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #f5f5f5; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>교훈:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });
        }

        // Control functions
        function showAllCountries() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            createMarkers();
        }

        function showSuccessStories() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            countries.filter(c => c.category === 'success').forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.9,
                    radius: 15,
                    weight: 4
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} - 성공 사례
                        </h3>
                        <p style="margin: 5px 0;"><strong>주요 지표:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #e8f5e8; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>성공 요인:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });
        }

        function showChallenges() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            countries.filter(c => c.category === 'challenge').forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.9,
                    radius: 15,
                    weight: 4
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} - 도전 과제
                        </h3>
                        <p style="margin: 5px 0;"><strong>주요 지표:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #ffebee; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>도전 과제:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });
        }

        function showComparisons() {
            document.querySelectorAll('.control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            // Show Bangladesh vs Pakistan comparison
            const comparison = countries.filter(c => c.name === '방글라데시' || c.name === '파키스탄');

            comparison.forEach(country => {
                const marker = L.circleMarker([country.lat, country.lng], {
                    color: country.color,
                    fillColor: country.color,
                    fillOpacity: 0.9,
                    radius: 18,
                    weight: 5
                }).addTo(map);

                const popupContent = `
                    <div style="font-family: 'Segoe UI', sans-serif; max-width: 300px;">
                        <h3 style="margin: 0 0 10px 0; color: ${country.color};">
                            ${country.name} - 비교 분석
                        </h3>
                        <p style="margin: 5px 0;"><strong>1971년:</strong> 동일한 출발점</p>
                        <p style="margin: 5px 0;"><strong>현재 결과:</strong><br>${country.details}</p>
                        <p style="margin: 5px 0; font-style: italic; background: #f0f8ff; padding: 8px; border-radius: 5px; color: #333;">
                            <strong>차이점:</strong> ${country.lesson}
                        </p>
                    </div>
                `;

                marker.bindPopup(popupContent);
                markers.push(marker);
            });

            // Draw line between Bangladesh and Pakistan
            const bangladeshCoords = [24.0, 90.0];
            const pakistanCoords = [30.0, 70.0];

            L.polyline([bangladeshCoords, pakistanCoords], {
                color: '#ffd700',
                weight: 3,
                opacity: 0.8,
                dashArray: '10, 10'
            }).addTo(map).bindPopup('1971년 분리: 동일한 출발점에서 다른 결과');
        }

        // Initialize with all countries
        createMarkers();
    </script>
</body>
</html>