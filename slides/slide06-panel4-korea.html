<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel 4: 한국의 인구전환과 경제적 함의</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .title {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .pyramid-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            color: #333;
        }
        .pyramid-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .pyramid-container {
            text-align: center;
        }
        .pyramid-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        .analysis-section {
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
        }
        .stats-timeline {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .timeline-item {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border-left: 5px solid #ffd700;
        }
        .timeline-year {
            font-size: 1.5em;
            font-weight: bold;
            color: #ffd700;
            min-width: 80px;
        }
        .timeline-content {
            margin-left: 20px;
        }
        .demographic-dividend {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid #ffd700;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .ratio-display {
            text-align: center;
            margin: 20px 0;
        }
        .ratio-box {
            display: inline-block;
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            margin: 10px;
            border-radius: 10px;
            min-width: 150px;
        }
        .ratio-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #ffd700;
        }
        .ratio-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        .key-insight {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4caf50;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
        }
        .warning-box {
            background: rgba(255, 152, 0, 0.2);
            border: 2px solid #ff9800;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            color: #333;
        }
        .comparison-table {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            color: #333;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid #ddd;
        }
        th {
            background-color: #667eea;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .highlight-row {
            background-color: #fff3cd !important;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Panel 4: 한국의 인구전환과 경제적 함의</h1>
            <p style="opacity: 0.8;">Fertility Decline, Population Age Structure, and Economic Implications</p>
        </div>

        <div class="pyramid-section">
            <h2 style="text-align: center; margin-top: 0;">Figure 1: 한국의 인구피라미드 변화 (1960, 2000, 2040)</h2>
            <div class="pyramid-grid">
                <div class="pyramid-container">
                    <div class="pyramid-title">1960년: 높은 출산율 시대</div>
                    <div id="pyramid1960" style="height: 300px;"></div>
                    <p style="font-size: 0.9em; margin-top: 10px;">
                        15세 미만: 42%<br>
                        65세 이상: 3%<br>
                        부양비: 120
                    </p>
                </div>
                <div class="pyramid-container">
                    <div class="pyramid-title">2000년: 인구 배당기</div>
                    <div id="pyramid2000" style="height: 300px;"></div>
                    <p style="font-size: 0.9em; margin-top: 10px;">
                        생산가능인구 최대<br>
                        부양비: 250<br>
                        <strong>황금기</strong>
                    </p>
                </div>
                <div class="pyramid-container">
                    <div class="pyramid-title">2040년: 고령화 사회</div>
                    <div id="pyramid2040" style="height: 300px;"></div>
                    <p style="font-size: 0.9em; margin-top: 10px;">
                        65세 이상: 30%<br>
                        부양비: 137<br>
                        <strong>고령화 부담</strong>
                    </p>
                </div>
            </div>
        </div>

        <div class="stats-timeline">
            <h2 style="color: #ffd700; text-align: center; margin-top: 0;">한국 인구전환 타임라인</h2>

            <div class="timeline-item">
                <div class="timeline-year">1960</div>
                <div class="timeline-content">
                    <strong>높은 출산율 시대</strong><br>
                    42%가 15세 미만, 3%가 65세 이상<br>
                    경제활동인구 100명당 부양 인구 120명 (불리한 구조)
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-year">1965</div>
                <div class="timeline-content">
                    <strong>출산율 급격한 감소 시작</strong><br>
                    가족계획 프로그램 본격 시행
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-year">2000</div>
                <div class="timeline-content">
                    <strong>인구 배당의 절정</strong><br>
                    경제활동인구 100명당 부양 인구 250명<br>
                    주로 아동 인구 감소 효과
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-year">2040</div>
                <div class="timeline-content">
                    <strong>고령화 사회 도래</strong><br>
                    전체 인구의 30%가 65세 이상<br>
                    부양비 137로 다시 상승
                </div>
            </div>
        </div>

        <div class="demographic-dividend">
            <h2 style="color: #ffd700; text-align: center; margin-top: 0;">인구 배당 (Demographic Dividend) 효과</h2>

            <div class="ratio-display">
                <div class="ratio-box">
                    <div class="ratio-number">120</div>
                    <div class="ratio-label">1960년<br>부양비</div>
                </div>
                <div style="display: inline-block; font-size: 2em; margin: 0 20px;">→</div>
                <div class="ratio-box">
                    <div class="ratio-number">250</div>
                    <div class="ratio-label">2000년<br>부양비</div>
                </div>
                <div style="display: inline-block; font-size: 2em; margin: 0 20px;">→</div>
                <div class="ratio-box">
                    <div class="ratio-number">137</div>
                    <div class="ratio-label">2040년<br>부양비</div>
                </div>
            </div>

            <div class="key-insight">
                <strong>핵심 통찰:</strong> 높은 부양비 시대(피라미드 B)는 국가에게 생활수준을 빠르게 향상시킬 수 있는
                독특하지만 일시적인 기회를 제공한다. 소득이 젊은이와 노인 부양이 아닌 생산적 투자에 사용될 수 있기 때문이다.
            </div>
        </div>

        <div class="analysis-grid">
            <div class="analysis-section">
                <h3 style="color: #ffd700; margin-top: 0;">경제적 함의</h3>
                <ul style="list-style: none; padding: 0;">
                    <li>✅ <strong>동아시아 경제성장의 1/3</strong>이 인구 배당 효과</li>
                    <li>✅ 1980-1990년대 연평균 6% 이상 성장</li>
                    <li>✅ 생산적 투자 여력 증대</li>
                    <li>⚠️ 노동 수요, 건전한 거버넌스, 저축·투자 제도가 전제조건</li>
                </ul>

                <div class="warning-box">
                    <strong>주의사항:</strong> 라틴아메리카는 동아시아와 유사한 인구구조 변화를 겪었지만
                    1980-1999년 1인당 GDP 연간 증가율이 2%에 불과했다.
                </div>
            </div>

            <div class="analysis-section">
                <h3 style="color: #ffd700; margin-top: 0;">정책적 시사점</h3>
                <ul style="list-style: none; padding: 0;">
                    <li>🎯 <strong>인구 배당은 자동으로 오지 않음</strong></li>
                    <li>🏛️ 좋은 거버넌스와 적절한 제도 필요</li>
                    <li>💼 노동 수요 창출이 핵심</li>
                    <li>💰 저축과 투자를 위한 금융 인프라</li>
                    <li>📚 인적자본 개발 동반 필요</li>
                </ul>

                <div class="key-insight">
                    라틴아메리카의 경제 성과는 인구 배당이 없었다면 더욱 저조했을 것이다.
                </div>
            </div>
        </div>

        <div class="comparison-table">
            <h3 style="text-align: center; margin-top: 0;">동아시아 vs 라틴아메리카 비교 (1980-1999)</h3>
            <table>
                <thead>
                    <tr>
                        <th>지역</th>
                        <th>인구구조 변화</th>
                        <th>연평균 GDP 성장률</th>
                        <th>성공 요인</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="highlight-row">
                        <td><strong>동아시아</strong></td>
                        <td>인구 배당 적극 활용</td>
                        <td><strong>6% 이상</strong></td>
                        <td>좋은 거버넌스, 투자 확대, 수출 주도</td>
                    </tr>
                    <tr>
                        <td><strong>라틴아메리카</strong></td>
                        <td>유사한 인구구조 변화</td>
                        <td><strong>2%</strong></td>
                        <td>제도적 한계, 투자 부족</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="chart-container">
            <h3 style="text-align: center; margin-top: 0;">한국의 인구 배당 주기</h3>
            <div id="dividendChart" style="height: 400px;"></div>
        </div>
    </div>

    <script>
        // Age pyramids for Korea
        const ages = Array.from({length: 17}, (_, i) => `${i*5}-${i*5+4}`);
        const ages_labels = ['0-4', '5-9', '10-14', '15-19', '20-24', '25-29', '30-34', '35-39', '40-44', '45-49', '50-54', '55-59', '60-64', '65-69', '70-74', '75-79', '80+'];

        // 1960 data (high fertility)
        const males1960 = [-3000, -2800, -2500, -2200, -1900, -1600, -1400, -1200, -1000, -800, -600, -500, -400, -300, -200, -100, -50];
        const females1960 = [2900, 2700, 2400, 2100, 1800, 1500, 1300, 1100, 950, 750, 550, 450, 350, 280, 190, 120, 70];

        // 2000 data (demographic dividend)
        const males2000 = [-2000, -2000, -2100, -2200, -2000, -1800, -1600, -1500, -1400, -1300, -1000, -800, -600, -400, -300, -200, -100];
        const females2000 = [1900, 1900, 2000, 2100, 1900, 1700, 1500, 1400, 1300, 1200, 950, 750, 550, 380, 280, 190, 130];

        // 2040 data (aging society)
        const males2040 = [-1000, -1000, -1100, -1200, -1300, -1400, -1500, -1600, -1700, -1800, -2000, -2200, -2100, -1900, -1600, -1200, -800];
        const females2040 = [950, 950, 1050, 1150, 1250, 1350, 1450, 1550, 1650, 1750, 1950, 2150, 2050, 1850, 1550, 1150, 900];

        // Create pyramid charts
        function createPyramid(elementId, males, females, title) {
            const trace1 = {
                y: ages_labels,
                x: males,
                name: '남성',
                type: 'bar',
                orientation: 'h',
                marker: { color: '#667eea' },
                hovertemplate: '%{y}<br>남성: %{x:,}<extra></extra>'
            };

            const trace2 = {
                y: ages_labels,
                x: females,
                name: '여성',
                type: 'bar',
                orientation: 'h',
                marker: { color: '#764ba2' },
                hovertemplate: '%{y}<br>여성: %{x:,}<extra></extra>'
            };

            const layout = {
                title: '',
                barmode: 'overlay',
                xaxis: {
                    title: '인구 (천명)',
                    showgrid: false
                },
                yaxis: {
                    title: '연령',
                    showgrid: false
                },
                font: { family: 'Segoe UI', size: 10 },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                margin: { l: 50, r: 50, t: 30, b: 50 }
            };

            Plotly.newPlot(elementId, [trace1, trace2], layout, {responsive: true, displayModeBar: false});
        }

        createPyramid('pyramid1960', males1960, females1960);
        createPyramid('pyramid2000', males2000, females2000);
        createPyramid('pyramid2040', males2040, females2040);

        // Demographic dividend chart
        const years = [1960, 1970, 1980, 1990, 2000, 2010, 2020, 2030, 2040];
        const dependencyRatio = [120, 110, 95, 80, 70, 80, 100, 120, 137];
        const workingAge = [55, 58, 62, 68, 72, 70, 65, 60, 55];

        const trace1 = {
            x: years,
            y: dependencyRatio,
            mode: 'lines+markers',
            name: '부양비 (낮을수록 유리)',
            line: { color: '#ff6b6b', width: 3 },
            marker: { size: 8 },
            yaxis: 'y'
        };

        const trace2 = {
            x: years,
            y: workingAge,
            mode: 'lines+markers',
            name: '생산가능인구 비율 (%)',
            line: { color: '#4caf50', width: 3 },
            marker: { size: 8 },
            yaxis: 'y2'
        };

        const layout = {
            title: '',
            xaxis: { title: '연도' },
            yaxis: {
                title: '부양비',
                side: 'left'
            },
            yaxis2: {
                title: '생산가능인구 비율 (%)',
                side: 'right',
                overlaying: 'y'
            },
            font: { family: 'Segoe UI' },
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)',
            annotations: [
                {
                    x: 2000,
                    y: 70,
                    text: '인구 배당 절정기<br>(1990-2010)',
                    showarrow: true,
                    arrowhead: 2,
                    arrowcolor: '#ffd700',
                    font: { color: '#ffd700', size: 12 }
                }
            ]
        };

        Plotly.newPlot('dividendChart', [trace1, trace2], layout, {responsive: true});
    </script>
</body>
</html>